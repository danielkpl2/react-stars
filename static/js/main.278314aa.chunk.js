(this["webpackJsonpreact-stars"]=this["webpackJsonpreact-stars"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/spinner.95eeac79.gif"},39:function(e,t,a){e.exports=a(85)},44:function(e,t,a){},67:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),l=a.n(s),c=(a(44),a(2)),i=a.n(c),o=a(8),u=a(9),p=a(12),h=a(10),m=a(6),d=a(11),f=a(33),y=(a(67),a(89)),v=a(86),E=a(87),b=a(88),x=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context,t=e.handleSearchBy,a=e.handleSearchChange,n=e.hangleSearchOptionChange,s=e.reset,l=this.props.context.state,c=l.search,i=l.searchBy,o=l.error;return r.a.createElement("div",null,r.a.createElement("div",{className:"form-inline"},r.a.createElement(b.a,{onSubmit:t},r.a.createElement(b.a.Control,{name:"search",placeholder:"Search By",type:"text",style:{width:"120px",margin:"5px",opacity:"0.8"},value:c,onChange:a}),r.a.createElement(b.a.Control,{as:"select",value:i,onChange:n,style:{width:"120px",margin:"5px",opacity:"0.8"}},r.a.createElement("option",{value:"name"},"Name"),r.a.createElement("option",{value:"planet-count"},"Planet Count"),r.a.createElement("option",{value:"distance"},"Distance")),r.a.createElement(y.a,{variant:"success",type:"submit",style:{width:"100px"}},"Search"),r.a.createElement(y.a,{variant:"success",type:"button",onClick:s,style:{width:"100px"}},"Reset"))),r.a.createElement("div",{style:{textAlign:"left",margin:"5px"}},o))}}]),t}(n.Component);function k(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=[],e.prop("alternateNames").forEach((function(e){t.push(e.link("star").fetch())})),a.next=4,i.a.awrap(Promise.all(t).then((function(t){return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.forEach((function(a,n){t[n].props.matchedName=e.prop("alternateNames")[n].prop("name")})),a.abrupt("return",t);case 2:case"end":return a.stop()}}))})).then((function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=[],e.forEach((function(e){t.push(e.link("additionalNames").fetch())})),a.next=4,i.a.awrap(Promise.all(t).then((function(t){return t.forEach((function(t,a){var n=[];t.prop("alternateNames").forEach((function(e){n.push(e.prop("name"))})),e[a].props.additionalNames=n})),e})));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}))})));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}))}function g(e){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(e.fetch());case 2:return t=n.sent,a=[],t.prop("alternateNames").forEach((function(e){a.push(e.prop("name"))})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))}function w(e,t){if(null!=e){var n=a(72).colorTemperature2rgb(e);return"rgba("+(n.red?n.red:0)+","+(n.green?n.green:0)+","+(n.blue?n.blue:0)+","+t+")"}}var S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleButton=a.handleButton.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleButton",value:function(e){var t,a,n,r;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.a.awrap(this.props.context.state[e].fetch());case 2:if(t=s.sent,a=null,null!=t.prop("stars")){s.next=10;break}return s.next=7,i.a.awrap(k(t));case 7:a=s.sent,s.next=11;break;case 10:a=t.prop("stars");case 11:return console.log(t),s.next=14,i.a.awrap(a[0].link("planets").fetch());case 14:return n=s.sent,s.next=17,i.a.awrap(g(a[0].link("additionalNames")));case 17:r=s.sent,this.props.context.setState({starResource:t,stars:a,names:r,currentStar:a[0],currentStarIndex:0,planets:n.prop("planets"),next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last")});case 19:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,null!=this.props.context.state.starResource?r.a.createElement("div",null,r.a.createElement(y.a,{disabled:null==this.props.context.state.first,type:"button",onClick:function(){return e.handleButton("first")}},"First"),r.a.createElement(y.a,{disabled:null==this.props.context.state.prev,type:"button",onClick:function(){return e.handleButton("prev")}},"Previous"),r.a.createElement(y.a,{disabled:null==this.props.context.state.next,type:"button",onClick:function(){return e.handleButton("next")}},"Next"),r.a.createElement(y.a,{disabled:null==this.props.context.state.last,type:"button",onClick:function(){return e.handleButton("last")}},"Last"),r.a.createElement("div",{style:{textAlign:"center",display:"inline-block",fontWeight:"bold"}},r.a.createElement("span",{style:{margin:"5px"}},"Found: ",this.props.context.state.starResource.prop("page").totalElements),r.a.createElement("span",{style:{margin:"5px"}},"Page: ",parseInt(this.props.context.state.starResource.prop("page").number)+1),r.a.createElement("span",{style:{margin:"5px"}},"Limit: ",this.props.context.state.starResource.prop("page").size))):"")}}]),t}(n.Component),O=a(14),N=a.n(O),j=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.context.state,a=t.stars,n=t.currentStarIndex,s=t.headings,l=t.mute;return r.a.createElement("div",null,null!=a?r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"inner-left",id:"inner-left"},r.a.createElement("h2",{style:{textAlign:"left"}},"Star Systems"),r.a.createElement(y.a,{onClick:this.props.context.mute},l?"Unmute":"Mute"),r.a.createElement(x,{context:this.props.context}),r.a.createElement("div",{className:"form-inline"},r.a.createElement(S,{context:this.props.context})),r.a.createElement(v.a,{id:"stars-table",striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"500px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,"undefined"!==typeof a[0]&&a[0].props.additionalNames?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,"Star names"),r.a.createElement("th",null,"Canonical name")):r.a.createElement("th",null,"Star Name"),r.a.createElement("th",null,"Distance (Light Years)"),r.a.createElement("th",null,"Radius (Solar Radii)"),r.a.createElement("th",null,"Number of Planets"))),r.a.createElement("tbody",null,a.map((function(t,l){return r.a.createElement("tr",{key:l,className:n===l?"table-active":"",onClick:function(){return e.props.context.handleStarClick(l)}},a[l].props.additionalNames?r.a.createElement("td",null,t.props.additionalNames.map((function(e){return r.a.createElement(E.a,{variant:e===t.props.matchedName?"success":"primary",key:e,style:{marginRight:"2px"}},e)}))):null,s.map((function(e){return r.a.createElement("td",{key:e},t.props[e])})))})))))):r.a.createElement("img",{alt:"",src:N.a,height:"30",width:"30"}))}}]),t}(n.Component),C=a(35),B=a.n(C),P=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.state.planets;return r.a.createElement("div",null,e?r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"right"}},"Planets"),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"800px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{minWidth:"100px"}},"Name"),r.a.createElement("th",null,"Radius (km)"),r.a.createElement("th",null,"Age"),r.a.createElement("th",null,"Temperature (kelvin)"),r.a.createElement("th",null,"Mass (Jupyter masses)"),r.a.createElement("th",null,"Discovery Method"),r.a.createElement("th",null,"Description"),r.a.createElement("th",{style:{minWidth:"90px"}},"Discovery Date"))),r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.prop("name")||"unknown"),r.a.createElement("td",null,e.prop("radius")?(69911*parseFloat(e.prop("radius"))).toFixed(2):"unknown"),r.a.createElement("td",null,e.prop("age")||"unknown"),r.a.createElement("td",{style:{backgroundColor:w(e.prop("temperature"),.5)}},e.prop("temperature")?r.a.createElement("span",{className:"temperature-pill"},e.prop("temperature")):"unknown"),r.a.createElement("td",null,e.prop("mass")?parseFloat(e.prop("mass")).toFixed(4):"unknown"),r.a.createElement("td",null,e.prop("discoveryMethod")||"unknown"),r.a.createElement("td",null,e.prop("description")||"unknown"),r.a.createElement("td",null,B()(e.prop("discoveryDate")).format("YYYY-MM-DD")))}))))):"")}}]),t}(n.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.state,t=e.currentStar,a=e.names;return r.a.createElement("div",null,null!=t?r.a.createElement("div",{className:"wrapper",style:{display:"inlineBlock"}},r.a.createElement("div",{className:"inner-right",id:"inner-right"},r.a.createElement("h2",{style:{textAlign:"right"}},t.props.name),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"500px",float:"right"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Other names: "),r.a.createElement("td",null,a.map((function(e,t){return r.a.createElement("span",{key:t},e,a.length-1!==t?", ":"")})))),r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Radius (km): "),r.a.createElement("td",null,t.props.radius?(695510*parseFloat(t.props.radius)).toFixed(2):"unknown")),r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Age (billions of years): "),r.a.createElement("td",null,t.props.age||"unknown")),r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Temperature (kelvin): "),r.a.createElement("td",{style:{backgroundColor:w(t.props.temperature,.5)}},t.props.temperature?r.a.createElement("span",{className:"temperature-pill"},t.props.temperature):"unknown")),r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Mass (Solar masses): "),r.a.createElement("td",null,t.props.mass||"unknown")),r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Distance (light years): "),r.a.createElement("td",null,t.props.distance||"unknown")),r.a.createElement("tr",null,r.a.createElement("td",{className:"list-label"},"Number of planets: "),r.a.createElement("td",null,t.props.numberOfPlanets||"unknown")))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(P,{context:this.props.context})))):r.a.createElement("img",{alt:"",src:N.a,height:"30",width:"30"}))}}]),t}(n.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.state,t=e.planets,a=e.currentStar,n=t?a.props.radius:null;return n>2&&(n=2),r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement("div",{id:"star",style:{backgroundColor:w(a.props.temperature,.7),width:n?695510*n/4e3+"px":"100px",height:n?695510*n/4e3+"px":"100px",marginLeft:n?"-"+695510*n/4e3/2+"px":"-50px",marginTop:n?"-"+695510*n/4e3/2+"px":"-50px"}}),r.a.createElement("div",{id:"planets"},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"planet",style:{marginLeft:150+50*(t+1)+"px",transformOrigin:-(150+50*(t+1))+"px",animation:"circle "+(10+12*Math.random())+"s infinite linear",backgroundColor:w(e.props.temperature,.7),width:e.props.radius?69911*e.props.radius/4e3+"px":"25px",height:e.props.radius?69911*e.props.radius/4e3+"px":"25px"}})})))):"")}}]),t}(n.Component),A=a(36),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={starResource:null,stars:null,headings:[],loading:!0,currentStar:null,currentStarIndex:0,planets:null,planetHeadings:[],search:"",searchDistance:"",searchBy:"name",next:null,prev:null,first:null,last:null,names:"",error:"",ready:!1,yt:null,mute:!1},a.reset=a.reset.bind(Object(m.a)(a)),a.handleStarClick=a.handleStarClick.bind(Object(m.a)(a)),a.handleSearchChange=a.handleSearchChange.bind(Object(m.a)(a)),a.handleSearchByName=a.handleSearchByName.bind(Object(m.a)(a)),a.handleSearchByPlanetCount=a.handleSearchByPlanetCount.bind(Object(m.a)(a)),a.handleSearchPlanetsChange=a.handleSearchPlanetsChange.bind(Object(m.a)(a)),a.handleSearchDistanceChange=a.handleSearchDistanceChange.bind(Object(m.a)(a)),a.handleSearchByDistance=a.handleSearchByDistance.bind(Object(m.a)(a)),a.hangleSearchOptionChange=a.hangleSearchOptionChange.bind(Object(m.a)(a)),a.handleSearchBy=a.handleSearchBy.bind(Object(m.a)(a)),a._onPlay=a._onPlay.bind(Object(m.a)(a)),a._onReady=a._onReady.bind(Object(m.a)(a)),a.mute=a.mute.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSearchBy",value:function(e){switch(e.preventDefault(),this.state.searchBy){case"name":this.handleSearchByName();break;case"planet-count":this.handleSearchByPlanetCount();break;case"distance":this.handleSearchByDistance()}}},{key:"hangleSearchOptionChange",value:function(e){this.setState({searchBy:e.target.value})}},{key:"handleStarClick",value:function(e){var t,a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(this.state.stars[e].link("planets").fetch());case 3:return t=n.sent,n.next=6,i.a.awrap(g(this.state.stars[e].link("additionalNames")));case 6:a=n.sent,this.setState({currentStar:this.state.stars[e],currentStarIndex:e,planets:t.prop("planets"),names:a}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("Error in hangle star click");case 13:case"end":return n.stop()}}),null,this,[[0,10]])}},{key:"handleSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"handleSearchPlanetsChange",value:function(e){this.setState({searchPlanets:e.target.value})}},{key:"handleSearchDistanceChange",value:function(e){this.setState({searchDistance:e.target.value})}},{key:"handleSearchByName",value:function(){var e,t,a,n,r;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,i.a.awrap(this.client.fetchResource("alternateNames/search"));case 3:return e=s.sent,s.next=6,i.a.awrap(e.link("findByNameLike").fetch({name:"%"+this.state.search+"%"}));case 6:return t=s.sent,s.next=9,i.a.awrap(k(t));case 9:return a=s.sent,n=a[0].props.additionalNames,s.next=13,i.a.awrap(a[0].link("planets").fetch());case 13:r=s.sent,this.setState({starResource:t,stars:a,currentStar:a[0],currentStarIndex:0,next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),searchDistance:"",names:n,planets:r.prop("planets")}),s.next=21;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("Error in search by name"),this.setState({error:"Error in search by name"});case 21:case"end":return s.stop()}}),null,this,[[0,17]])}},{key:"handleSearchByPlanetCount",value:function(){var e,t,a,n,r;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,i.a.awrap(this.client.fetchResource("stars/search"));case 3:return e=s.sent,s.next=6,i.a.awrap(e.link("findByNumberOfPlanetsGreaterThan").fetch({numberOfPlanets:this.state.search,page:0,size:20,sort:"numberOfPlanets,asc"}));case 6:return t=s.sent,a=t.prop("stars"),s.next=10,i.a.awrap(g(a[0].link("additionalNames")));case 10:return n=s.sent,s.next=13,i.a.awrap(a[0].link("planets").fetch());case 13:r=s.sent,this.setState({starResource:t,stars:a,currentStar:a[0],currentStarIndex:0,next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),search:"",searchDistance:"",names:n,planets:r.prop("planets")}),s.next=21;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("Error in search by planet count"),this.setState({error:"Error in search by planet count"});case 21:case"end":return s.stop()}}),null,this,[[0,17]])}},{key:"handleSearchByDistance",value:function(){var e,t,a,n,r;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,i.a.awrap(this.client.fetchResource("stars/search"));case 3:return e=s.sent,s.next=6,i.a.awrap(e.link("findByDistanceLessThanEqualOrderByDistance").fetch({distance:this.state.search,page:0,size:20}));case 6:return t=s.sent,a=t.prop("stars"),s.next=10,i.a.awrap(g(a[0].link("additionalNames")));case 10:return n=s.sent,s.next=13,i.a.awrap(a[0].link("planets").fetch());case 13:r=s.sent,this.setState({starResource:t,stars:a,currentStar:a[0],currentStarIndex:0,next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),search:"",names:n,planets:r.prop("planets")}),s.next=21;break;case 17:s.prev=17,s.t0=s.catch(0),console.log("Error in search by distance"),this.setState({error:"Error in search by distance"});case 21:case"end":return s.stop()}}),null,this,[[0,17]])}},{key:"reset",value:function(){var e,t,a,n,r,s,l,c;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,this.client=Object(f.createClient)("http://webdevelopertest.playfusionservices.com/webapptest",{headers:{"Access-Control-Allow-Origin":"*"}}),o.next=4,i.a.awrap(this.client.fetchResource("/stars?page=0&size=20&sort=numberOfPlanets,desc"));case 4:return e=o.sent,t=e.prop("stars")[0],o.next=8,i.a.awrap(t.link("planets").fetch());case 8:return a=o.sent,o.next=11,i.a.awrap(g(t.link("additionalNames")));case 11:n=o.sent,r=e.prop("stars"),s=Object.keys(e.prop("stars")[0].props),l=Object.keys(a.prop("planets")[0].props),c=["name","distance","radius","numberOfPlanets"],this.setState({starResource:e,stars:r,headings:c,originalHeadings:s,currentStar:t,planets:a.prop("planets"),planetHeadings:l,next:e.link("next"),prev:e.link("prev"),first:e.link("first"),last:e.link("last"),names:n,error:"",search:"",searchBy:"name"}),o.next=23;break;case 19:o.prev=19,o.t0=o.catch(0),console.log("Error at start up"),this.setState({error:"Error at start up"});case 23:case"end":return o.stop()}}),null,this,[[0,19]])}},{key:"componentDidMount",value:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.addEventListener("mousemove",(function(e){var t=document.body.clientWidth/2,a=document.documentElement.clientHeight/2,n=25*(e.clientX-t)/t,r=5*(e.clientY-a)/a,s=25+n,l=n-25;s>25&&(s=25),l<-25&&(l=-25),document.documentElement.style.setProperty("--leftvar",s+"deg"),document.documentElement.style.setProperty("--rightvar",l+"deg"),document.documentElement.style.setProperty("--leftoffset",s+"px"),document.documentElement.style.setProperty("--rightoffset",l+"px"),document.documentElement.style.setProperty("--offsetscaledY",r+"deg")})),this.reset();case 2:case"end":return e.stop()}}),null,this)}},{key:"_onReady",value:function(e){e.target.setVolume(50),this.setState({yt:e.target}),console.log(e.target)}},{key:"_onPlay",value:function(e){console.log("playing"),this.setState({ready:!0})}},{key:"mute",value:function(){this.state.mute?(this.state.yt.unMute(),this.setState({mute:!1})):(this.state.yt.mute(),this.setState({mute:!0}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:this.state.ready?"block":"none"}},r.a.createElement(A.a,{videoId:"bZNFRIwlQxQ",opts:{height:"100%",width:"100%",playerVars:{autoplay:1,origin:"localhost:3000",controls:0,showinfo:0,autohide:1,modestbranding:1}},onReady:this._onReady,onPlay:this._onPlay,className:"video-wrapper"})),r.a.createElement("div",null,this.state.ready?r.a.createElement("div",{className:"App container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm",style:{padding:"60px"}},r.a.createElement(j,{context:this})),r.a.createElement("div",{className:"col-sm",style:{padding:"60px",textAlign:"left"}},r.a.createElement(D,{context:this}))),r.a.createElement(R,{context:this})):r.a.createElement("div",{className:"loading"},r.a.createElement("img",{style:{left:"50%",top:"50%",position:"absolute"},alt:"",src:N.a,height:"100",width:"100"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.278314aa.chunk.js.map