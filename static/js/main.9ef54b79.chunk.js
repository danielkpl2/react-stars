(this["webpackJsonpreact-stars"]=this["webpackJsonpreact-stars"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/spinner.95eeac79.gif"},45:function(e,t,a){e.exports=a.p+"static/media/mouse-over.dd1e3047.wav"},51:function(e,t,a){e.exports=a(98)},60:function(e,t,a){},82:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),l=a.n(s),c=a(9),o=a(42),i=a(43),p=a(19),u=(a(60),a(7)),h=a.n(u),d=a(10),m=a(11),E=a(13),y=a(12),f=a(4),g=a(14),b=a(3),v=a(44),k=(a(82),a(99)),S=a(100),w=a(101),x=a(45),O=a.n(x);function N(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=[],e.prop("alternateNames").forEach((function(e){t.push(e.link("star").fetch())})),a.abrupt("return",Promise.all(t).then((function(t){return t.forEach((function(a,n){t[n].props.matchedName=e.prop("alternateNames")[n].prop("name")})),t})).then((function(e){var t=[];return e.forEach((function(e){t.push(e.link("additionalNames").fetch())})),Promise.all(t).then((function(t){return t.forEach((function(t,a){var n=[];t.prop("alternateNames").forEach((function(e){n.push(e.prop("name"))})),e[a].props.additionalNames=n})),e}))})));case 3:case"end":return a.stop()}}))}function C(e){var t,a;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(e.fetch());case 2:return t=n.sent,a=[],t.prop("alternateNames").forEach((function(e){a.push(e.prop("name"))})),n.abrupt("return",a);case 6:case"end":return n.stop()}}))}function j(e,t){if(null!=e){var n=a(83).colorTemperature2rgb(e);return"rgba("+(n.red?n.red:0)+","+(n.green?n.green:0)+","+(n.blue?n.blue:0)+","+t+")"}}function B(){return r.a.createElement("audio",{type:"audio/wav"},r.a.createElement("source",{src:O.a}))}var M="stars",R="alternateNames/search/findByNameLike",P="stars/search/findByNumberOfPlanetsGreaterThan",T="stars/search/findByDistanceLessThanEqualOrderByDistance",F=[{name:"Name \u2193",value:"name,desc"},{name:"Name \u2191",value:"name,asc"},{name:"Radius \u2193",value:"radius,desc"},{name:"Radius \u2191",value:"radius,asc"},{name:"Age \u2193",value:"age,desc"},{name:"Age \u2191",value:"age,asc"},{name:"Temperature \u2193",value:"temperature,desc"},{name:"Temperature \u2191",value:"temperature,asc"},{name:"Mass \u2193",value:"mass,desc"},{name:"Mass \u2191",value:"mass,asc"},{name:"Distance \u2193",value:"distance,desc"},{name:"Distance \u2191",value:"distance,asc"},{name:"Number of Planets \u2193",value:"numberOfPlanets,desc"},{name:"Number of Planets \u2191",value:"numberOfPlanets,asc"}],I="LOADED",D="FULLSCREEN",z="MUTE",L="YOUTUBE",A="READY",_="TOGGLE_VIDEO",V="SET_LOADING_SEARCH",Y="CHANGE_STAR",U="RESET",H="PAGINATE",q="SEARCH_BY_DISTANCE",G="SEARCH_BY_PLANET_COUNT",W="SEARCH_BY_NAME",J="SET_ERROR",Q="NETWORK_ERROR",Z="SET_SEARCH_OPTION",K="SET_SEARCH",X="SET_SORT",$="SET_PAGE",ee="SET_SIZE",te={starResource:null,resourceURI:M,page:1,size:20,sort:"numberOfPlanets,desc",stars:null,headings:[],loading:!0,currentStar:null,currentStarIndex:0,planets:null,planetHeadings:[],search:"",searchBy:"",next:null,prev:null,first:null,last:null,names:"",error:"",networkError:!1,mute:!1,fullScreen:!1,yt:null,ready:!1,noVideo:!1,loadingSearch:!1},ae=function(e){return function(t,a){t({type:V,payload:e})}},ne=function(e){return function(t){t({type:H,payload:e})}},re=function(e){return function(t){t({type:J,payload:e.error})}},se={searchOptionChange:function(e){return function(t){t({type:Z,payload:e.searchBy})}},searchChange:function(e){return function(t){t({type:K,payload:e.search})}},sortChange:function(e){return function(t){t({type:X,payload:e.sort})}}},le=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleSortChange=a.handleSortChange.bind(Object(f.a)(a)),a.handleSearchChange=a.handleSearchChange.bind(Object(f.a)(a)),a.hangleSearchOptionChange=a.hangleSearchOptionChange.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onMouseEnter",value:function(e){e.currentTarget.nextElementSibling.play().then((function(){})).catch((function(e){}))}},{key:"handleSearchChange",value:function(e){this.props.searchChange({search:e.target.value})}},{key:"hangleSearchOptionChange",value:function(e){this.props.searchOptionChange({searchBy:e.target.value})}},{key:"handleSortChange",value:function(e){this.props.sortChange({sort:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.search,a=e.searchBy,n=e.handleSearchBy,s=[];switch(this.props.searchBy){case"":case"planet-count":case"distance":s=F;break;case"name":s=[{name:"Name \u2193",value:"name,desc"},{name:"Name \u2191",value:"name,asc"}];break;default:s=F}return r.a.createElement("div",{className:"form-inline",style:{width:"516px"}},r.a.createElement("div",{style:{width:"100%",textAlign:"left"}},r.a.createElement(w.a,{onSubmit:n,style:{display:"flex"}},r.a.createElement(w.a.Control,{name:"search",placeholder:"Search By",type:"text",style:{margin:"5px",opacity:"0.8",width:"119px"},value:t,onChange:this.handleSearchChange,onMouseEnter:this.onMouseEnter}),r.a.createElement(B,null),r.a.createElement(w.a.Control,{as:"select",value:a,onChange:this.hangleSearchOptionChange,style:{margin:"5px",opacity:"0.8",width:"119px"},onMouseEnter:this.onMouseEnter},r.a.createElement("option",{value:""},"--"),r.a.createElement("option",{value:"name"},"Name"),r.a.createElement("option",{value:"planet-count"},"Planet No."),r.a.createElement("option",{value:"distance"},"Distance")),r.a.createElement(B,null),r.a.createElement(w.a.Control,{as:"select",onChange:this.handleSortChange,onMouseEnter:this.onMouseEnter,value:this.props.sort,style:{margin:"5px",opacity:"0.8",width:"50%"}},">",s.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)}))),r.a.createElement(B,null))))}}]),t}(n.Component),ce=Object(c.b)((function(e){return Object(b.a)({},e)}),se)(le),oe=a(102),ie={changePage:ne,setError:re,setLoadingSearch:ae},pe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleButton=a.handleButton.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onMouseEnter",value:function(e){e.currentTarget.disabled||e.currentTarget.lastChild.play().then((function(){})).catch((function(e){}))}},{key:"handleButton",value:function(e){var t,a,n,r;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return this.props.setLoadingSearch(!0),s.prev=1,s.next=4,h.a.awrap(this.props[e].fetch());case 4:if(t=s.sent,a=null,null!=t.prop("stars")){s.next=12;break}return s.next=9,h.a.awrap(N(t));case 9:a=s.sent,s.next=13;break;case 12:a=t.prop("stars");case 13:return s.next=15,h.a.awrap(a[0].link("planets").fetch());case 15:return n=s.sent,s.next=18,h.a.awrap(C(a[0].link("additionalNames")));case 18:r=s.sent,this.props.changePage({starResource:t,stars:a,names:r,currentStar:a[0],currentStarIndex:0,planets:n.prop("planets"),next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),loadingSearch:!1,page:t.prop("page").number+1,size:t.prop("page").size}),s.next=26;break;case 22:s.prev=22,s.t0=s.catch(1),console.log("Error pressing button "+e),this.props.setError({error:"Error pressing button "+e});case 26:case"end":return s.stop()}}),null,this,[[1,22]])}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-inline",style:{width:"516px"}},null!=this.props.starResource?r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement(oe.a,{onMouseEnter:this.onMouseEnter,style:{width:"25%"},disabled:null==this.props.first,type:"button",onClick:function(){return e.handleButton("first")}},r.a.createElement("span",null,"First"),r.a.createElement(B,null)),r.a.createElement(oe.a,{onMouseEnter:this.onMouseEnter,style:{width:"25%"},disabled:null==this.props.prev,type:"button",onClick:function(){return e.handleButton("prev")}},r.a.createElement("span",null,"Back"),r.a.createElement(B,null)),r.a.createElement(oe.a,{onMouseEnter:this.onMouseEnter,style:{width:"25%"},disabled:null==this.props.next,type:"button",onClick:function(){return e.handleButton("next")}},r.a.createElement("span",null,"Next"),r.a.createElement(B,null)),r.a.createElement(oe.a,{onMouseEnter:this.onMouseEnter,style:{width:"25%"},disabled:null==this.props.last,type:"button",onClick:function(){return e.handleButton("last")}},r.a.createElement("span",null,"Last"),r.a.createElement(B,null))):"")}}]),t}(n.Component),ue=Object(c.b)((function(e){return Object(b.a)({},e)}),ie)(pe),he={pageChange:function(e){return function(t){t({type:$,payload:e.page})}},sizeChange:function(e){return function(t){t({type:ee,payload:e.size})}}},de=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handlePageChange=a.handlePageChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a.handleSizeChange=a.handleSizeChange.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onMouseEnter",value:function(e){e.currentTarget.lastChild.play().then((function(){})).catch((function(e){}))}},{key:"handlePageChange",value:function(e){this.props.pageChange({page:parseInt(e.target.value)})}},{key:"handleSubmit",value:function(e){switch(e.preventDefault(),this.props.resourceURI){case R:this.props.handleSearchByName();break;case M:this.props.paginate();break;case P:this.props.handleSearchByPlanetCount();break;case T:this.props.handleSearchByDistance();break;default:this.props.paginate()}}},{key:"handleSizeChange",value:function(e){this.props.sizeChange({size:parseInt(e.target.value)})}},{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"space-between",width:"516px",fontWeight:"bold"}},r.a.createElement("span",{style:{margin:"5px",width:"25%"}},"Found: ",this.props.starResource.prop("page").totalElements),r.a.createElement("span",{style:{margin:"5px",width:"25%"}},"Page:",r.a.createElement(w.a,{onMouseEnter:this.onMouseEnter,onSubmit:this.handleSubmit,style:{display:"inline-block"}},r.a.createElement("input",{className:"pagination-input",type:"number",min:"1",max:Math.ceil(parseInt(this.props.starResource.prop("page").totalElements)/parseInt(this.props.starResource.prop("page").size)),onChange:this.handlePageChange,value:this.props.page}),r.a.createElement(B,null))),r.a.createElement("span",{style:{margin:"5px",width:"25%"}},r.a.createElement("span",null,"Limit: ",r.a.createElement(w.a,{onMouseEnter:this.onMouseEnter,onSubmit:this.handleSubmit,style:{display:"inline-block"}},r.a.createElement("input",{className:"pagination-input",type:"number",onChange:this.handleSizeChange,value:this.props.size}),r.a.createElement(B,null)))),r.a.createElement("span",{style:{margin:"5px",width:"25%"}},r.a.createElement(oe.a,{variant:"success",type:"button",style:{margin:"0px",width:"100%"},onClick:this.props.handleSearchBy,onMouseEnter:this.onMouseEnter},r.a.createElement("span",null,"Search"),r.a.createElement(B,null))))}}]),t}(n.Component),me=Object(c.b)((function(e){return Object(b.a)({},e)}),he)(de),Ee=a(17),ye=a.n(Ee),fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onMouseEnter=a.onMouseEnter.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onMouseEnter",value:function(e){e.currentTarget.lastChild.firstElementChild.play().then((function(){})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.stars,n=t.currentStarIndex,s=t.loadingSearch,l=t.error;return r.a.createElement("div",null,null!=a?r.a.createElement("div",{className:"wrapper-left"},r.a.createElement("div",{className:"inner-left",id:"inner-left"},r.a.createElement("h2",{style:{textAlign:"left"}},"Star Systems ",s?r.a.createElement("img",{style:{verticalAlign:"text-bottom"},alt:"",src:ye.a,height:"30",width:"30"}):""),r.a.createElement(ce,{handleSearchBy:this.props.handleSearchBy}),r.a.createElement(me,{handleSearchByName:this.props.handleSearchByName,paginate:this.props.paginate,handleSearchByPlanetCount:this.props.handleSearchByPlanetCount,handleSearchByDistance:this.props.handleSearchByDistance,handleSearchBy:this.props.handleSearchBy}),r.a.createElement(ue,null),r.a.createElement("div",{style:{textAlign:"left",margin:"5px"}},l),r.a.createElement(k.a,{id:"stars-table",striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"516px",borderSpacing:"0"}},r.a.createElement("thead",null,r.a.createElement("tr",null,"undefined"!==typeof a[0]&&a[0].props.additionalNames?r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{className:"width175"},"Star Names"),r.a.createElement("th",{className:"width75"},"Canonical name")):r.a.createElement("th",{className:"width125"},"Star Name"),r.a.createElement("th",{className:a[0].props.additionalNames?"width75":"width125"},"Distance (Light Years)"),r.a.createElement("th",{className:a[0].props.additionalNames?"width100":"width125"},"Radius (Solar Radii)"),r.a.createElement("th",{className:a[0].props.additionalNames?"width91":"width141"},"Number of Planets"))),r.a.createElement("tbody",null,a.map((function(t,s){return r.a.createElement("tr",{onMouseEnter:e.onMouseEnter,key:s,className:n===s?"table-active":"",onClick:function(){return e.props.handleStarClick(s)}},a[s].props.additionalNames?r.a.createElement("td",{className:"width175"},t.props.additionalNames.map((function(e,a){return r.a.createElement(S.a,{variant:e===t.props.matchedName?"success":"primary",key:a,style:{marginRight:"2px"}},e)}))):null,r.a.createElement("td",{className:a[s].props.additionalNames?"width75":"width125"},t.props.name||"?"),r.a.createElement("td",{className:a[s].props.additionalNames?"width75":"width125"},t.props.distance||"?"),r.a.createElement("td",{className:a[s].props.additionalNames?"width100":"width125"},t.props.radius||"?"),r.a.createElement("td",{className:a[s].props.additionalNames?"width75":"width125"},t.props.numberOfPlanets||"?"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null)))})))))):r.a.createElement("img",{alt:"",src:ye.a,height:"30",width:"30"}))}}]),t}(n.Component),ge=Object(c.b)((function(e){return Object(b.a)({},e)}),{})(fe),be=a(47),ve=a.n(be),ke=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onMouseEnter=a.onMouseEnter.bind(Object(f.a)(a)),a.onMouseLeave=a.onMouseLeave.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onMouseEnter",value:function(e,t){this.interval=setInterval((function(){var e=document.getElementById("planet"+t).getBoundingClientRect().top,a=document.getElementById("planet"+t).getBoundingClientRect().right,n=document.getElementById("label"+t);n.style.top=e+"px",n.style.left=a+"px",n.style.display="block"}),50),e.currentTarget.lastChild.firstElementChild.play().then((function(){})).catch((function(e){}))}},{key:"onMouseLeave",value:function(e,t){document.getElementById("label"+t).style.display="none",clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.props.planets;return r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"right"}},"Planets"),r.a.createElement(k.a,{id:"planets-table",striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"866px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"width100"},"Name"),r.a.createElement("th",{className:"width75"},"Radius (km)"),r.a.createElement("th",{className:"width50"},"Age"),r.a.createElement("th",{className:"width100"},"Temperature (kelvin)"),r.a.createElement("th",{className:"width75"},"Mass (Jupyter masses)"),r.a.createElement("th",{className:"width75"},"Discovery Method"),r.a.createElement("th",{className:"width275"},"Description"),r.a.createElement("th",{className:"width116"},"Discovery Date"))),r.a.createElement("tbody",null,t.map((function(t,a){return r.a.createElement("tr",{onMouseEnter:function(t){return e.onMouseEnter(t,a)},onMouseLeave:function(t){return e.onMouseLeave(t,a)},key:a},r.a.createElement("td",{className:"width100"},t.prop("name")||"?"),r.a.createElement("td",{className:"width75"},t.prop("radius")?(69911*parseFloat(t.prop("radius"))).toFixed(2):"?"),r.a.createElement("td",{className:"width50"},t.prop("age")||"?"),r.a.createElement("td",{className:"width100",style:{backgroundColor:j(t.prop("temperature"),.5)}},t.prop("temperature")?r.a.createElement("span",{className:"temperature-pill"},t.prop("temperature")):"unknown"),r.a.createElement("td",{className:"width75"},t.prop("mass")?parseFloat(t.prop("mass")).toFixed(4):"?"),r.a.createElement("td",{className:"width75"},t.prop("discoveryMethod")||"?"),r.a.createElement("td",{className:"width275"},t.prop("description")||"?"),r.a.createElement("td",{className:"width100"},ve()(t.prop("discoveryDate")).format("YYYY-MM-DD")),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null)))}))))):"")}}]),t}(n.Component),Se=Object(c.b)((function(e){return Object(b.a)({},e)}),{})(ke),we=function(e){function t(){return Object(d.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onMouseEnter",value:function(e){e.currentTarget.lastChild.firstElementChild.play().then((function(){})).catch((function(e){}))}},{key:"render",value:function(){var e=this.props,t=e.currentStar,a=e.names;return r.a.createElement("div",null,null!=t?r.a.createElement("div",{className:"wrapper-right",style:{display:"inline-block"}},r.a.createElement("div",{className:"inner-right",id:"inner-right"},r.a.createElement("h2",{style:{alignSelf:"flex-end"}},t.props.name),r.a.createElement(k.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{width:"400px",alignSelf:"flex-end"}},r.a.createElement("tbody",null,r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Other names: "),r.a.createElement("td",null,a.map((function(e,t){return r.a.createElement("span",{key:t},e,a.length-1!==t?", ":"")}))),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))),r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Radius (km): "),r.a.createElement("td",null,t.props.radius?(695510*parseFloat(t.props.radius)).toFixed(2):"unknown"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))),r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Age (billions of years): "),r.a.createElement("td",null,t.props.age||"unknown"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))),r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Temperature (kelvin): "),r.a.createElement("td",{style:{backgroundColor:j(t.props.temperature,.5)}},t.props.temperature?r.a.createElement("span",{className:"temperature-pill"},t.props.temperature):"unknown"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))),r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Mass (Solar masses): "),r.a.createElement("td",null,t.props.mass||"unknown"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))),r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Distance (light years): "),r.a.createElement("td",null,t.props.distance||"unknown"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))),r.a.createElement("tr",{onMouseEnter:this.onMouseEnter},r.a.createElement("td",{className:"list-label"},"Number of planets: "),r.a.createElement("td",null,t.props.numberOfPlanets||"unknown"),r.a.createElement("td",{style:{display:"none"}},r.a.createElement(B,null))))),r.a.createElement("div",{style:{display:"inline-block",alignSelf:"flex-end"}},r.a.createElement(Se,null)))):r.a.createElement("img",{alt:"",src:ye.a,height:"30",width:"30"}))}}]),t}(n.Component),xe=Object(c.b)((function(e){return Object(b.a)({},e)}),{})(we),Oe=function(e){function t(){return Object(d.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.planets,a=e.currentStar;if(t){var n=t.map((function(e){return parseFloat(e.props.radius)})),s=35/n.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)})),l=n.map((function(e){return e*s})),c=a.props.radius;c>1.5&&(c=1.5)}return r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement("div",{id:"star",style:{backgroundColor:j(a.props.temperature,.7),width:c?695510*c/4e3+"px":"100px",height:c?695510*c/4e3+"px":"100px",marginLeft:c?"-"+695510*c/4e3/2+"px":"-50px",marginTop:c?"-"+695510*c/4e3/2+"px":"-50px"}}),r.a.createElement("div",{id:"planets"},t.map((function(e,t){return r.a.createElement("div",{id:"planet"+t,key:t,className:"planet",style:{marginLeft:150+50*(t+1)+"px",transformOrigin:-(150+50*(t+1))+"px",animation:"circle "+(10+12*Math.random())+"s infinite linear",backgroundColor:j(e.props.temperature,.7),width:l[t]?l[t]+"px":"25px",height:l[t]?l[t]+"px":"25px",marginTop:l[t]?-l[t]/2+"px":"-12.5px"}})}))),r.a.createElement("div",{className:"labels"},t.map((function(e,t){return r.a.createElement("div",{id:"label"+t,key:t,className:"label badge"},e.prop("name")||"?")})))):"")}}]),t}(n.Component),Ne=Object(c.b)((function(e){return{planets:e.planets,currentStar:e.currentStar}}),{})(Oe),Ce=a(48),je=null,Be={toggleFullScreen:function(e){return function(t){t({type:D,payload:e})}},toggleMute:function(e){return function(t,a){var n=a().yt;e?n.mute():n.unMute(),t({type:z,payload:e})}},saveYouTube:function(e){return function(t){t({type:L,payload:e})}},setReady:function(e){return function(t){t({type:A,payload:e})}},toggleVideo:function(){return function(e){e({type:_})}},setLoadingSearch:ae,changeStar:function(e){return function(t){t({type:Y,payload:e})}},reset:function(e){return function(t){t({type:U,payload:e})}},changePage:ne,searchByDistance:function(e){return function(t){t({type:q,payload:e})}},searchByPlanetCount:function(e){return function(t){t({type:G,payload:e})}},searchByName:function(e){return function(t){t({type:W,payload:e})}},setError:re,showNetworkError:function(){return function(e){e({type:Q})}}},Me=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).reset=a.reset.bind(Object(f.a)(a)),a.handleStarClick=a.handleStarClick.bind(Object(f.a)(a)),a.handleSearchByName=a.handleSearchByName.bind(Object(f.a)(a)),a.handleSearchByPlanetCount=a.handleSearchByPlanetCount.bind(Object(f.a)(a)),a.handleSearchByDistance=a.handleSearchByDistance.bind(Object(f.a)(a)),a.handleSearchBy=a.handleSearchBy.bind(Object(f.a)(a)),a.onPlay=a.onPlay.bind(Object(f.a)(a)),a.onReady=a.onReady.bind(Object(f.a)(a)),a.mute=a.mute.bind(Object(f.a)(a)),a.fullScreen=a.fullScreen.bind(Object(f.a)(a)),a.noVideo=a.noVideo.bind(Object(f.a)(a)),a.onFullScreenChange=a.onFullScreenChange.bind(Object(f.a)(a)),a.paginate=a.paginate.bind(Object(f.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleSearchBy",value:function(e){switch(e.preventDefault(),this.props.searchBy){case"name":this.handleSearchByName();break;case"planet-count":this.handleSearchByPlanetCount();break;case"distance":this.handleSearchByDistance();break;case"":this.reset()}}},{key:"handleStarClick",value:function(e){var t,a,n=this;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:this.props.setLoadingSearch(!0);try{t=this.props.stars[e].link("planets").fetch(),a=C(this.props.stars[e].link("additionalNames")),Promise.all([t,a]).then((function(t){var a=t[0],r=t[1];n.props.changeStar({currentStar:n.props.stars[e],currentStarIndex:e,planets:a.prop("planets"),names:r,loadingSearch:!1})}))}catch(s){console.log("Error in handle star click"),this.props.setError({error:"Error in handle star click"})}case 2:case"end":return r.stop()}}),null,this)}},{key:"handleSearchByName",value:function(){var e,t,a,n,r;return h.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return this.props.setLoadingSearch(!0),s.prev=1,s.next=4,h.a.awrap(je.fetchResource("alternateNames/search"));case 4:return e=s.sent,s.next=7,h.a.awrap(e.link("findByNameLike").fetch({name:"%"+this.props.search+"%",page:parseInt(this.props.page)-1,size:this.props.size,sort:this.props.sort}));case 7:return t=s.sent,s.next=10,h.a.awrap(N(t));case 10:return a=s.sent,n=a[0].props.additionalNames,s.next=14,h.a.awrap(a[0].link("planets").fetch());case 14:r=s.sent,this.props.searchByName({starResource:t,resourceURI:R,stars:a,currentStar:a[0],currentStarIndex:0,next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),names:n,planets:r.prop("planets"),loadingSearch:!1}),s.next=22;break;case 18:s.prev=18,s.t0=s.catch(1),console.log("Error in search by name"),this.props.setError({error:"Error in search by name"});case 22:case"end":return s.stop()}}),null,this,[[1,18]])}},{key:"handleSearchByPlanetCount",value:function(){var e,t,a,n,r,s=this;return h.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return this.props.setLoadingSearch(!0),l.prev=1,l.next=4,h.a.awrap(je.fetchResource("stars/search"));case 4:return e=l.sent,l.next=7,h.a.awrap(e.link("findByNumberOfPlanetsGreaterThan").fetch({numberOfPlanets:this.props.search,page:parseInt(this.props.page)-1,size:this.props.size,sort:this.props.sort}));case 7:t=l.sent,a=t.prop("stars"),n=C(a[0].link("additionalNames")),r=a[0].link("planets").fetch(),Promise.all([r,n]).then((function(e){var n=e[0],r=e[1];s.props.searchByPlanetCount({starResource:t,resourceURI:P,stars:a,currentStar:a[0],currentStarIndex:0,next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),names:r,planets:n.prop("planets"),loadingSearch:!1})})),l.next=18;break;case 14:l.prev=14,l.t0=l.catch(1),console.log("Error in search by planet count"),this.props.setError({error:"Error in search by planet count"});case 18:case"end":return l.stop()}}),null,this,[[1,14]])}},{key:"handleSearchByDistance",value:function(){var e,t,a,n,r,s=this;return h.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return this.props.setLoadingSearch(!0),l.prev=1,l.next=4,h.a.awrap(je.fetchResource("stars/search"));case 4:return e=l.sent,l.next=7,h.a.awrap(e.link("findByDistanceLessThanEqualOrderByDistance").fetch({distance:this.props.search,page:parseInt(this.props.page)-1,size:this.props.size,sort:this.props.sort}));case 7:t=l.sent,a=t.prop("stars"),n=C(a[0].link("additionalNames")),r=a[0].link("planets").fetch(),Promise.all([r,n]).then((function(e){var n=e[0],r=e[1];s.props.searchByDistance({starResource:t,resourceURI:T,stars:a,currentStar:a[0],currentStarIndex:0,next:t.link("next"),prev:t.link("prev"),first:t.link("first"),last:t.link("last"),names:r,planets:n.prop("planets"),loadingSearch:!1})})),l.next=18;break;case 14:l.prev=14,l.t0=l.catch(1),console.log("Error in search by distance"),this.props.setError({error:"Error in search by distance"});case 18:case"end":return l.stop()}}),null,this,[[1,14]])}},{key:"paginate",value:function(){var e,t,a,n,r,s,l,c=this;return h.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.props.setLoadingSearch(!0),o.prev=1,o.next=4,h.a.awrap(je.fetchResource(this.props.resourceURI+"?page="+(parseInt(this.props.page)-1)+"&size="+this.props.size+"&sort="+this.props.sort));case 4:e=o.sent,t=e.prop("stars")[0],a=Object.keys(e.prop("stars")[0].props),n=["name","distance","radius","numberOfPlanets"],r=t.link("planets").fetch(),s=C(t.link("additionalNames")),l=e.prop("stars"),Promise.all([r,s]).then((function(r){var s=r[0],o=r[1];c.props.changePage({starResource:e,stars:l,headings:n,originalHeadings:a,currentStar:t,currentStarIndex:0,planets:s.prop("planets"),next:e.link("next"),prev:e.link("prev"),first:e.link("first"),last:e.link("last"),names:o,error:"",searchBy:"",loadingSearch:!1,page:e.prop("page").number+1,size:e.prop("page").size})})),o.next=18;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("Error at paginate"),this.props.setError({error:"Error at paginate"});case 18:case"end":return o.stop()}}),null,this,[[1,14]])}},{key:"reset",value:function(){var e,t,a,n,r,s,l,c=this;return h.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.props.setLoadingSearch(!0),o.prev=1,je=Object(v.createClient)("http://webdevelopertest.playfusionservices.com/webapptest",{headers:{"Access-Control-Allow-Origin":"*"}}),o.next=5,h.a.awrap(je.fetchResource(M+"?page="+(parseInt(this.props.page)-1)+"&size="+this.props.size+"&sort="+this.props.sort));case 5:e=o.sent,t=e.prop("stars")[0],a=e.prop("stars"),n=Object.keys(e.prop("stars")[0].props),r=["name","distance","radius","numberOfPlanets"],s=t.link("planets").fetch(),l=C(t.link("additionalNames")),Promise.all([s,l]).then((function(s){var l=s[0],o=s[1],i=Object.keys(l.prop("planets")[0].props);c.props.reset({starResource:e,resourceURI:M,stars:a,headings:r,originalHeadings:n,currentStar:t,currentStarIndex:0,planets:l.prop("planets"),planetHeadings:i,next:e.link("next"),prev:e.link("prev"),first:e.link("first"),last:e.link("last"),names:o,error:"",search:"",searchBy:"",loadingSearch:!1,page:e.prop("page").number+1,size:e.prop("page").size})})),o.next=21;break;case 15:o.prev=15,o.t0=o.catch(1),this.props.showNetworkError(),this.props.toggleVideo(),console.log("Error at start up"),this.props.setError({error:"Error at start up"});case 21:case"end":return o.stop()}}),null,this,[[1,15]])}},{key:"componentDidMount",value:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.addEventListener("mousemove",(function(e){var t=document.documentElement.clientWidth/2,a=document.documentElement.clientHeight/2,n=25*(e.clientX-t)/t,r=5*(e.clientY-a)/a,s=25+n,l=n-25;s>25&&(s=25),l<-25&&(l=-25),document.documentElement.style.setProperty("--leftvar",s+"deg"),document.documentElement.style.setProperty("--rightvar",l+"deg"),document.documentElement.style.setProperty("--leftoffset",s+"px"),document.documentElement.style.setProperty("--rightoffset",l+"px"),document.documentElement.style.setProperty("--offsetscaledY",-r+"deg")})),document.addEventListener("fullscreenchange",this.onFullScreenChange,!1),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange,!1),document.addEventListener("mozfullscreenchange",this.onFullScreenChange,!1),this.reset();case 5:case"end":return e.stop()}}),null,this)}},{key:"onFullScreenChange",value:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?this.props.toggleFullScreen(!0):this.props.toggleFullScreen(!1)}},{key:"onReady",value:function(e){e.target.setVolume(10),this.props.saveYouTube(e.target)}},{key:"onPlay",value:function(e){this.props.setReady(!0)}},{key:"mute",value:function(){this.props.toggleMute(!this.props.mute)}},{key:"fullScreen",value:function(){var e=document.documentElement;this.props.fullScreen?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),this.props.toggleFullScreen(!1)):(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.props.toggleFullScreen(!0))}},{key:"noVideo",value:function(){this.props.noVideo?this.props.toggleVideo():(this.props.toggleVideo(),this.props.setReady(!0))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:this.props.ready?"block":"none"}},r.a.createElement("div",{style:{position:"fixed",top:"5px",right:"5px",zIndex:"99"}},r.a.createElement(oe.a,{onClick:this.noVideo},"No video"),r.a.createElement(oe.a,{onClick:this.mute},this.props.mute?"Unmute":"Mute"),r.a.createElement(oe.a,{onClick:this.fullScreen},"Full Screen")),this.props.noVideo?"":r.a.createElement(Ce.a,{videoId:"bZNFRIwlQxQ",opts:{height:"100%",width:"100%",playerVars:{autoplay:1,origin:"localhost:3000",controls:0,showinfo:0,autohide:1,modestbranding:1,loop:1}},onReady:this.onReady,onPlay:this.onPlay,className:"video-wrapper"})),r.a.createElement("div",null,this.props.ready&&!this.props.networkError?r.a.createElement("div",{className:"App container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm",style:{padding:"60px",paddingTop:"0px"}},r.a.createElement(ge,{handleSearchBy:this.handleSearchBy,handleStarClick:this.handleStarClick,handleSearchByName:this.handleSearchByName,paginate:this.paginate,handleSearchByPlanetCount:this.handleSearchByPlanetCount,handleSearchByDistance:this.handleSearchByDistance})),r.a.createElement("div",{className:"col-sm",style:{padding:"60px",paddingTop:"0px",textAlign:"left"}},r.a.createElement(xe,null))),r.a.createElement(Ne,null)):r.a.createElement("div",{className:"loading"},this.props.networkError?r.a.createElement("span",{style:{top:"50%",position:"absolute",width:"100%",textAlign:"center"}},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.google.com/search?q=allow+insecure+content"},"Network error: allow insecure content to continue"),r.a.createElement("br",null),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"#"},"Demo")):r.a.createElement("div",null,r.a.createElement("img",{style:{left:"50%",top:"50%",position:"absolute",marginLeft:"-50px",marginTop:"-50px"},alt:"",src:ye.a,height:"100",width:"100"}),r.a.createElement(oe.a,{style:{left:"50%",top:"55%",position:"absolute",marginLeft:"-44px"},onClick:this.noVideo},"No video")))))}}]),t}(n.Component),Re=Object(c.b)((function(e){return Object(b.a)({},e)}),Be)(Me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=Object(p.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(b.a)({},e);case D:return Object(b.a)({},e,{fullScreen:t.payload});case z:return Object(b.a)({},e,{mute:t.payload});case L:return Object(b.a)({},e,{yt:t.payload});case A:return Object(b.a)({},e,{ready:t.payload});case _:return Object(b.a)({},e,{noVideo:!e.noVideo});case V:return Object(b.a)({},e,{loadingSearch:t.payload});case Y:case U:case H:case q:case G:case W:return Object(b.a)({},e,{},t.payload);case J:return Object(b.a)({},e,{error:t.payload,loadingSearch:!1});case Q:return Object(b.a)({},e,{networkError:!0});case Z:return Object(b.a)({},e,{searchBy:t.payload});case K:return Object(b.a)({},e,{search:t.payload});case X:return Object(b.a)({},e,{sort:t.payload});case $:return Object(b.a)({},e,{page:t.payload});case ee:return Object(b.a)({},e,{size:t.payload});default:return e}}),Object(i.composeWithDevTools)(Object(p.applyMiddleware)(o.a)));l.a.render(r.a.createElement(c.a,{store:Pe},r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[51,1,2]]]);
//# sourceMappingURL=main.9ef54b79.chunk.js.map